# AWS ECS CI/CD Configuration

Este diretÃ³rio contÃ©m as configuraÃ§Ãµes necessÃ¡rias para o deploy no Amazon ECS.

## ğŸ“ Arquivos

- `task-definition-api.json` - Task definition para a aplicaÃ§Ã£o API (NestJS)
- `task-definition-web.json` - Task definition para a aplicaÃ§Ã£o Web (Next.js)
- `README.md` - Guia completo de configuraÃ§Ã£o

## âš™ï¸ ConfiguraÃ§Ã£o

Antes de fazer o primeiro deploy, vocÃª precisa:

1. **Substituir placeholders nos arquivos JSON:**
   - `YOUR_ACCOUNT_ID` - ID da sua conta AWS
   - URLs dos repositÃ³rios ECR
   - ARNs das IAM roles
   - ARNs dos secrets no Secrets Manager

2. **Ajustar recursos conforme necessÃ¡rio:**
   - `cpu` e `memory` - Capacidade das tasks
   - `desiredCount` - NÃºmero de instÃ¢ncias
   - VariÃ¡veis de ambiente
   - Health checks

3. **Registrar as task definitions:**
   ```bash
   aws ecs register-task-definition --cli-input-json file://.aws/task-definition-api.json
   aws ecs register-task-definition --cli-input-json file://.aws/task-definition-web.json
   ```

## ğŸ”„ AtualizaÃ§Ãµes

Quando vocÃª fizer mudanÃ§as nas task definitions:

1. Edite os arquivos JSON neste diretÃ³rio
2. Commit e push para o repositÃ³rio
3. O GitHub Actions irÃ¡ usar automaticamente as novas definiÃ§Ãµes no prÃ³ximo deploy

## ğŸ“– Mais InformaÃ§Ãµes

Consulte o [README.md](./README.md) completo para instruÃ§Ãµes detalhadas de setup.

## âš ï¸ Importante

- Nunca commite credenciais ou secrets nestes arquivos
- Use AWS Secrets Manager para dados sensÃ­veis
- Revise as permissÃµes das IAM roles regularmente
- Mantenha os ARNs atualizados apÃ³s mudanÃ§as na infraestrutura
